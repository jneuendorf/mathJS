<!DOCTYPE HTML>
<html>
<head>
  <title>math.js | an extensive math library for JavaScript and Node.js</title>

  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="title" content="math.js">

  <meta name="keywords" content="mathjs, math.js, math, js, javascript, node, library, expression, parser, numeric, number, bignumber, complex, matrix, unit, function, variable, string, value, node.js, mathematics, extensive, advanced">
  <meta name="description" content="Math.js is an extensive math library for JavaScript and Node.js. It features big numbers, complex numbers, matrices, units, and a flexible expression parser.">

  <meta name="author" content="Jos de Jong">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <link href="../css/style.css" rel="stylesheet" type="text/css">
  <link href="../css/commandline.css" rel="stylesheet" type="text/css">
  <link href="../css/code.css" rel="stylesheet" type="text/css">

  <script src="../js/lib/es5-shim.min.js" type="text/javascript"></script>
  <script src="../js/lib/es5-sham.min.js" type="text/javascript"></script>
  <script src="../js/lib/math.js" type="text/javascript"></script>
  <script src="../js/commandline.js" type="text/javascript"></script>
</head>

<!-- itemscope, itemtype, and  itemprop for google+ meta information -->
<body itemscope itemtype="http://schema.org/Product">
<div id="page">
  <div>
    <a href="../index.html">
      <img src="../css/img/mathjs_330x100.png" id="logo" alt="math.js" itemprop="image" >
    </a>
  </div>

  <div id="search">
    <script>
      (function() {
        var cx = '017327835323070913148:__zkzh4scga';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
            '//www.google.com/cse/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:search></gcse:search>
  </div>

  <div id="menu">
    <a href="../index.html">
      Home
      
    </a><a href="../download.html">
    Download
    
    </a><a href="../docs/getting_started.html">
      Get started
      
    </a><a href="../docs/index.html">
        Docs
        
    </a><a href="index.html">
        Examples
        
        <div class="selection"></div>
        
    </a>
  </div>

  <div id="content">
    <h1>Matrices</h1>

<p>File: <a href="matrices.js">matrices.js</a></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="c1">// matrices</span>

<span class="c1">// load math.js</span>
<span class="kd">var</span> <span class="nx">math</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;../index&#39;</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Helper function to output a value in the console. Value will be formatted.</span>
<span class="cm"> * @param {*} value</span>
<span class="cm"> */</span>
<span class="kd">function</span> <span class="nx">print</span> <span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">precision</span> <span class="o">=</span> <span class="mi">14</span><span class="p">;</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">math</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">precision</span><span class="p">));</span>
<span class="p">}</span>

<span class="c1">// create matrices and arrays. a matrix is just a wrapper around an Array,</span>
<span class="c1">// providing some handy utilities.</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;create a matrix&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">math</span><span class="p">.</span><span class="nx">matrix</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">25</span><span class="p">]);</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span>                                  <span class="c1">// [1, 4, 9, 16, 25]</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="nx">math</span><span class="p">.</span><span class="nx">matrix</span><span class="p">(</span><span class="nx">math</span><span class="p">.</span><span class="nx">ones</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]));</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span>                                  <span class="c1">// [[1, 1, 1], [1, 1, 1]]</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">size</span><span class="p">());</span>                           <span class="c1">// [2, 3]</span>

<span class="c1">// the Array data of a Matrix can be retrieved using valueOf()</span>
<span class="kd">var</span> <span class="nx">array</span> <span class="o">=</span> <span class="nx">a</span><span class="p">.</span><span class="nx">valueOf</span><span class="p">();</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">array</span><span class="p">);</span>                               <span class="c1">// [1, 4, 9, 16, 25]</span>

<span class="c1">// Matrices can be cloned</span>
<span class="kd">var</span> <span class="nx">clone</span> <span class="o">=</span> <span class="nx">a</span><span class="p">.</span><span class="nx">clone</span><span class="p">();</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">clone</span><span class="p">);</span>                               <span class="c1">// [1, 4, 9, 16, 25]</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">();</span>

<span class="c1">// perform operations with matrices</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;perform operations&#39;</span><span class="p">);</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">math</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span><span class="nx">a</span><span class="p">));</span>                       <span class="c1">// [1, 2, 3, 4, 5]</span>
<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">];</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">math</span><span class="p">.</span><span class="nx">factorial</span><span class="p">(</span><span class="nx">c</span><span class="p">));</span>                  <span class="c1">// [1, 2, 6, 24, 120]</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">();</span>

<span class="c1">// create and manipulate matrices. Arrays and Matrices can be used mixed.</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;manipulate matrices&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]];</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">d</span><span class="p">);</span>                                   <span class="c1">// [[1, 2], [3, 4]]</span>
<span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="nx">math</span><span class="p">.</span><span class="nx">matrix</span><span class="p">([[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]);</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span>                                   <span class="c1">// [[5, 6], [1, 1]]</span>

<span class="c1">// set a submatrix.</span>
<span class="c1">// Matrix indexes are zero-based.</span>
<span class="nx">e</span><span class="p">.</span><span class="nx">subset</span><span class="p">(</span><span class="nx">math</span><span class="p">.</span><span class="nx">index</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]),</span> <span class="p">[[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">]]);</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span>                                   <span class="c1">// [[5, 6], [7, 8]]</span>
<span class="kd">var</span> <span class="nx">f</span> <span class="o">=</span> <span class="nx">math</span><span class="p">.</span><span class="nx">multiply</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span> <span class="nx">e</span><span class="p">);</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">f</span><span class="p">);</span>                                   <span class="c1">// [[19, 22], [43, 50]]</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">math</span><span class="p">.</span><span class="nx">or</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span> <span class="nx">e</span><span class="p">));</span>                       <span class="c1">// [[5, 6], [7, 12]]</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">math</span><span class="p">.</span><span class="nx">not</span><span class="p">(</span><span class="nx">e</span><span class="p">));</span>                         <span class="c1">// [[-6, -7], [-8, -9]]</span>
<span class="kd">var</span> <span class="nx">g</span> <span class="o">=</span> <span class="nx">f</span><span class="p">.</span><span class="nx">subset</span><span class="p">(</span><span class="nx">math</span><span class="p">.</span><span class="nx">index</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">));</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">g</span><span class="p">);</span>                                   <span class="c1">// 43</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">();</span>

<span class="c1">// get a sub matrix</span>
<span class="c1">// Matrix indexes are zero-based.</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;get a sub matrix&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">h</span> <span class="o">=</span> <span class="nx">math</span><span class="p">.</span><span class="nx">diag</span><span class="p">(</span><span class="nx">math</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">));</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">h</span><span class="p">);</span>                                   <span class="c1">// [[1, 0, 0], [0, 2, 0], [0, 0, 3]]</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">subset</span><span class="p">(</span><span class="nx">math</span><span class="p">.</span><span class="nx">index</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">])));</span><span class="c1">// [[2, 0], [0, 3]]</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">();</span>

<span class="c1">// resize a multi dimensional matrix</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;resizing a matrix&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="nx">math</span><span class="p">.</span><span class="nx">matrix</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">defaultValue</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="nx">i</span><span class="p">.</span><span class="nx">resize</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="nx">defaultValue</span><span class="p">);</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>                                   <span class="c1">// [[[0, 0], [0, 0]], [[0, 0], [0, 0]]]</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">size</span><span class="p">());</span>                            <span class="c1">// [2, 2, 2]</span>
<span class="nx">i</span><span class="p">.</span><span class="nx">resize</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]);</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>                                   <span class="c1">// [[0, 0], [0, 0]]</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">size</span><span class="p">());</span>                            <span class="c1">// [2, 2]</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">();</span>

<span class="c1">// setting a value outside the matrices range will resize the matrix.</span>
<span class="c1">// new elements will be initialized with zero.</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;set a value outside a matrices range&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">j</span> <span class="o">=</span> <span class="nx">math</span><span class="p">.</span><span class="nx">matrix</span><span class="p">();</span>
<span class="nx">j</span><span class="p">.</span><span class="nx">subset</span><span class="p">(</span><span class="nx">math</span><span class="p">.</span><span class="nx">index</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">);</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">j</span><span class="p">);</span>                                   <span class="c1">// [0, 0, 6]</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">();</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;set a value outside a matrices range, leaving new entries uninitialized&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">k</span> <span class="o">=</span> <span class="nx">math</span><span class="p">.</span><span class="nx">matrix</span><span class="p">();</span>
<span class="nx">defaultValue</span> <span class="o">=</span> <span class="nx">math</span><span class="p">.</span><span class="nx">uninitialized</span><span class="p">;</span>
<span class="nx">k</span><span class="p">.</span><span class="nx">subset</span><span class="p">(</span><span class="nx">math</span><span class="p">.</span><span class="nx">index</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">,</span> <span class="nx">defaultValue</span><span class="p">);</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">k</span><span class="p">);</span>                                   <span class="c1">// [undefined, undefined, 6]</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">();</span>

<span class="c1">// create ranges</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;create ranges&#39;</span><span class="p">);</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">math</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">));</span>                    <span class="c1">// [1, 2, 3, 4, 5]</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">math</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">3</span><span class="p">));</span>                <span class="c1">// [0, 3, 6, 9, 12, 15]</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">math</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="s1">&#39;2:-1:-3&#39;</span><span class="p">));</span>               <span class="c1">// [2, 1, 0, -1, -2]</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">math</span><span class="p">.</span><span class="nx">factorial</span><span class="p">(</span><span class="nx">math</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="s1">&#39;1:6&#39;</span><span class="p">)));</span>   <span class="c1">// [1, 2, 6, 24, 120]</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">();</span>
</code></pre></div>
<!-- Note: This file is automatically generated. Changes made in this file will be overridden. -->

  </div>

</div>

<div id="footer">
  <a href="../index.html">mathjs.org</a> &bull;
  <a href="https://github.com/josdejong/mathjs#license" target="_blank">copyright &copy; 2013-2015 jos de jong</a> &bull;
  <a href="http://subtlepatterns.com/bright-squares/" target="_blank">background by waseem dahman</a>
</div>

<div id="forkme">
  <a href="https://github.com/josdejong/mathjs" target="_blank">
    <img src="../css/img/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" >
  </a>
</div>

<script type="text/javascript">
  // change layout for different screen sizes
  function resize () {
    var width = document.body.clientWidth;

    var page = document.getElementById('page');
    page.className = (width < 810) ? 'small' : 'normal';
    if (width < 620) {
      page.className += ' tiny';
    }

    var forkme = document.getElementById('forkme');
    forkme.className = (width < 810) ? 'small' : 'normal';
  }
  resize();
  window.onresize = resize;
</script>

</body>
</html>